<!DOCTYPE html>
<html>
	<head>
		<style>
			#container {
				margin: 0px auto;
				width: 500px;
				height: 375px;
				border: 10px #333 solid;
			}
			#videoElement {
				width: 500px;
				height: 375px;
				background-color: #666;
			}
		</style>
	</head>
	
	<body>
		<div id="container">
			<video autoplay="true" id="videoElement">
					
			</video>
		</div>
		
		<script>
			var video = document.querySelector("#videoElement");

			if (navigator.mediaDevices.getUserMedia) {
				navigator.mediaDevices.getUserMedia({video: true}).then(function (stream) {
					video.srcObject = stream;
				});
			}
			
			var canvas = document.createElement('canvas');
			canvas.height = video.videoHeight;
			canvas.width = video.videoWidth;
			var ctx = canvas.getContext('2d');
			
			function getHistogram(imgData) {
				var numPixels = imgData.length/4;
				console.log(numPixels);
			}
			
			video.onseeked = function(e) {
				ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
				getHistogram(ctx.getImageData(0, 0, canvas.width, canvas.height));
			}
			
		</script>
	</body>
</html>
